<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane stylesheets="@../css/modern-style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1">
<!-- Top Header -->
        <top>
            <HBox alignment="CENTER" spacing="20" style="-fx-background-radius: 0 0 12 12;" styleClass="card">
                <padding>
                    <Insets bottom="15" left="25" right="25" top="15" />
                </padding>
                <Label style="-fx-font-size: 20px; -fx-text-fill: -primary-dark; -fx-font-weight: bold;" text="HỆ THỐNG QUẢN LÝ" />
                <Region HBox.hgrow="ALWAYS" />
                <Button fx:id="logoutButton" style="-fx-background-color: #EF5350; -fx-text-fill: white;" text="Đăng xuất" />
            </HBox>
        </top>    

<!-- Sidebar -->
    <left>
        <VBox alignment="TOP_CENTER" prefWidth="200" spacing="10" styleClass="sidebar">
            <children>
                <Button onAction="#goToDashboard" styleClass="sidebar-button" text="Dashboard" />
                <Button onAction="#goToPatientManagement" styleClass="sidebar-button" text="Quản lý bệnh nhân" />
                <Button onAction="#goToDoctorManagement" style="-fx-background-color: -primary-color; -fx-text-fill: -light-text;" styleClass="sidebar-button" text="Quản lý bác sĩ" />
                <Button onAction="#goToAppointmentManagement" styleClass="sidebar-button" text="Quản lý lịch hẹn" />
                <Button onAction="#goToPrescriptionManagement" styleClass="sidebar-button" text="Quản lý đơn thuốc" />
                <Button onAction="#goToBillManagement" styleClass="sidebar-button" text="Quản lý hóa đơn" />
                <Button onAction="#goToMedicalReport" styleClass="sidebar-button,selected" text="Quản lý phiếu khám" />
                <Button onAction="#goToAccountManagement" styleClass="sidebar-button" text="Quản lý tài khoản" />
                <Button onAction="#goToReport" styleClass="sidebar-button" text="Báo cáo" />
                <Button onAction="#goToProfile" styleClass="sidebar-button" text="Hồ sơ" />
            </children>
        </VBox>
    </left>

    <!-- Main Content -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="20" style="-fx-padding: 20;">
            <children>
                <!-- Header -->
                <HBox alignment="CENTER">
                    <Label style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: -text-color;" text="Quản lý phiếu khám" />
                </HBox>

                <!-- Medical Report List -->
                <TableView fx:id="medicalReportTable" styleClass="table-view">
                    <columns>
                        <TableColumn prefWidth="80" text="ID" />
                        <TableColumn prefWidth="169.0" text="Tên bệnh nhân" />
                        <TableColumn prefWidth="136.0" text="Ngày khám" />
                        <TableColumn prefWidth="202.0" text="Chẩn đoán" />
                        <TableColumn prefWidth="209.0" text="Hành động" />
                    </columns>
                </TableView>

                <!-- Input Form -->
                <HBox alignment="CENTER" spacing="15" styleClass="card">
                    <VBox alignment="TOP_LEFT" spacing="10">
                        <Label text="Bệnh nhân" />
                        <ComboBox fx:id="patientComboBox" promptText="Chọn bệnh nhân" styleClass="combo-box" />
                        <Label text="Ngày khám" />
                        <DatePicker fx:id="visitDatePicker" styleClass="date-picker" />
                    </VBox>
                    <VBox alignment="TOP_LEFT" spacing="10">
                        <Label text="Chẩn đoán" />
                        <TextArea fx:id="diagnosisField" prefHeight="60" promptText="Nhập chẩn đoán" styleClass="text-field" />
                        <Label text="Ghi chú" />
                        <TextArea fx:id="notesField" prefHeight="60" promptText="Nhập ghi chú" styleClass="text-field" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="10">
                        <Button fx:id="addButton" onAction="#addMedicalReport" styleClass="button" text="Thêm" />
                        <Button fx:id="updateButton" onAction="#updateMedicalReport" styleClass="button" text="Sửa" />
                        <Button fx:id="deleteButton" onAction="#deleteMedicalReport" styleClass="button" text="Xóa" />
                    </VBox>
                </HBox>

                <!-- Search -->
                <HBox alignment="CENTER" spacing="10">
                    <TextField fx:id="searchField" promptText="Tìm kiếm phiếu khám..." styleClass="text-field" />
                    <Button onAction="#searchMedicalReport" styleClass="button" text="Tìm kiếm" />
                </HBox>
            </children>
        </VBox>
    </center>
</BorderPane>
